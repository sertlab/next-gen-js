"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
module.exports.newTracker = function (cookieDomains) {
  var recordIdName = 'recordID',
    sessionIdName = 'dmSessionID',
    dmCookieName = 'dm_i',
    sessionCookies = ['utm_medium', 'utm_source', 'utm_campaign'],
    queries = [],
    trackingQueries = {},
    recordIdExpiryDays = 365,
    sessionExpiryDays = 0.01389,
    dmExpiryDays = 0.04167,
    profileCookieDomains = cookieDomains;
  return {
    addPageVars: addPageVars,
    addTrackingVars: addTrackingVars,
    addRecordId: addRecordId,
    addSessionId: addSessionId,
    addCustomVars: addCustomVars,
    addCurrentDomain: addCurrentDomain,
    addEmail: addEmail,
    setQueryValues: setQueryValues,
    buildUrl: buildUrl
  };
  function addPageVars() {
    trackingQueries.page_url = encode(getCurrentUrl());
    trackingQueries.page_title = encode(document.title);
    trackingQueries.page_time = getIsoDate(new Date());
    trackingQueries.user_agent = navigator.userAgent;
  }
  function addTrackingVars() {
    if (queries[dmCookieName]) {
      setCookie(dmCookieName, queries[dmCookieName], dmExpiryDays);
    }
    trackingQueries[dmCookieName] = encode(getCookie(dmCookieName));
    for (var i = 0; i < sessionCookies.length; i++) {
      addSessionCookie(sessionCookies[i]);
    }
  }
  function addRecordId() {
    var recordId = getCookie(recordIdName);
    if (!recordId) recordId = generateUUID();
    setCookie(recordIdName, recordId, recordIdExpiryDays);
    trackingQueries.recordID = encode(recordId);
  }
  function addSessionId() {
    var sessionId = getCookie(sessionIdName);
    if (!sessionId) sessionId = generateUUID();
    setCookie(sessionIdName, sessionId, sessionExpiryDays);
    trackingQueries.sessionID = encode(sessionId);
  }
  function addCustomVars(vars) {
    var params = [];
    if (vars && _typeof(vars) === 'object') for (var key in vars) {
      var value = (vars[key].toString() || '').replace(/&/g, ' ');
      params.push(key.replace(/&/g, ' ') + '=' + value);
    }
    params.length && (trackingQueries.custom_page_values = encode(params.join('&')));
  }
  function addSessionCookie(name) {
    var value = queries[name];
    if (value) {
      setCookie(name, value);
    } else {
      value = getCookie(name);
    }
    trackingQueries[name] = encode(value);
  }
  function getCurrentUrl() {
    var url = document.location.href;
    if (queries[dmCookieName]) {
      var queryString = window.location.search.substring(1);
      var urlParts = queryString.split("&");
      var nonDmParts = [];
      for (var i = 0; i < urlParts.length; i++) {
        if (urlParts[i].indexOf(dmCookieName + '=') == -1) nonDmParts.push(urlParts[i]);
      }
      url = nonDmParts.length == 0 ? url.substring(0, url.indexOf("?")) : url.substring(0, url.indexOf("?") + 1) + nonDmParts.join("&");
    }
    return url;
  }
  function addCurrentDomain() {
    trackingQueries.domain = encode(getCurrentDomain());
  }
  function getCurrentDomain() {
    return document.location.protocol + '//' + document.location.hostname;
  }
  function addEmail(email) {
    trackingQueries.email = encode(email);
  }
  function setQueryValues() {
    var queryString = window.location.search;
    if (queryString) parseQueryString(queryString);
  }
  function parseQueryString(queryString) {
    var queryList = queryString.substr(1).split(/&/g);
    for (var i = 0; i < queryList.length; i++) {
      addQueryParam(queryList[i]);
    }
  }
  function addQueryParam(param) {
    var parts = param.split(/=/);
    queries[parts[0]] = parts.length === 2 ? decode(parts[1]) : null;
  }
  function buildUrl(baseUrl) {
    var params = [];
    for (var key in trackingQueries) {
      params.push(key + '=' + trackingQueries[key]);
    }
    return baseUrl + (baseUrl.indexOf('?') !== -1 ? '&' : '?') + params.join('&');
  }
  function setCookie(name, value, days) {
    var expires = "";
    if (days) {
      var date = new Date();
      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
      expires = "; expires=" + date.toGMTString();
    }
    var cookieDomain = getCookieDomain();
    document.cookie = name + "=" + encode(value) + expires + "; path=/" + cookieDomain;
  }
  function getCookie(name) {
    var value = "; " + document.cookie;
    var parts = value.split("; " + name + "=");
    if (parts.length >= 2) return decode(parts.pop().split(";").shift());
  }
  function getCookieDomain() {
    var domainSet = "";
    if (profileCookieDomains) {
      var domains = profileCookieDomains.split(",");
      domains.forEach(function (domain) {
        if (window.location.hostname.indexOf(domain) !== -1) {
          domainSet = ";domain=" + domain;
        }
      });
    }
    return domainSet;
  }
  function generateUUID() {
    if (typeof window.crypto != 'undefined' && typeof window.crypto.getRandomValues != 'undefined') {
      var buf = new Uint32Array(4);
      window.crypto.getRandomValues(buf);
      var idx = -1;
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        idx++;
        var r = buf[idx >> 3] >> idx % 8 * 4 & 15;
        var v = c == 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
      var r = Math.random() * 16 | 0,
        v = c == 'x' ? r : r & 0x3 | 0x8;
      return v.toString(16);
    });
  }
  function getIsoDate(date) {
    return date.toISOString ? date.toISOString().slice(0, 19) : calcIsoString(date);
  }
  function calcIsoString(date) {
    function pad(number) {
      return (number < 10 ? '0' : '') + String(number);
    }
    return date.getUTCFullYear() + '-' + pad(date.getUTCMonth() + 1) + '-' + pad(date.getUTCDate()) + 'T' + pad(date.getUTCHours()) + ':' + pad(date.getUTCMinutes()) + ':' + pad(date.getUTCSeconds());
  }
  function decode(value) {
    return decodeURIComponent(value);
  }
  function encode(value) {
    return encodeURIComponent(value);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwibmV3VHJhY2tlciIsImNvb2tpZURvbWFpbnMiLCJyZWNvcmRJZE5hbWUiLCJzZXNzaW9uSWROYW1lIiwiZG1Db29raWVOYW1lIiwic2Vzc2lvbkNvb2tpZXMiLCJxdWVyaWVzIiwidHJhY2tpbmdRdWVyaWVzIiwicmVjb3JkSWRFeHBpcnlEYXlzIiwic2Vzc2lvbkV4cGlyeURheXMiLCJkbUV4cGlyeURheXMiLCJwcm9maWxlQ29va2llRG9tYWlucyIsImFkZFBhZ2VWYXJzIiwiYWRkVHJhY2tpbmdWYXJzIiwiYWRkUmVjb3JkSWQiLCJhZGRTZXNzaW9uSWQiLCJhZGRDdXN0b21WYXJzIiwiYWRkQ3VycmVudERvbWFpbiIsImFkZEVtYWlsIiwic2V0UXVlcnlWYWx1ZXMiLCJidWlsZFVybCIsInBhZ2VfdXJsIiwiZW5jb2RlIiwiZ2V0Q3VycmVudFVybCIsInBhZ2VfdGl0bGUiLCJkb2N1bWVudCIsInRpdGxlIiwicGFnZV90aW1lIiwiZ2V0SXNvRGF0ZSIsIkRhdGUiLCJ1c2VyX2FnZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic2V0Q29va2llIiwiZ2V0Q29va2llIiwiaSIsImxlbmd0aCIsImFkZFNlc3Npb25Db29raWUiLCJyZWNvcmRJZCIsImdlbmVyYXRlVVVJRCIsInJlY29yZElEIiwic2Vzc2lvbklkIiwic2Vzc2lvbklEIiwidmFycyIsInBhcmFtcyIsImtleSIsInZhbHVlIiwidG9TdHJpbmciLCJyZXBsYWNlIiwicHVzaCIsImN1c3RvbV9wYWdlX3ZhbHVlcyIsImpvaW4iLCJuYW1lIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwicXVlcnlTdHJpbmciLCJ3aW5kb3ciLCJzZWFyY2giLCJzdWJzdHJpbmciLCJ1cmxQYXJ0cyIsInNwbGl0Iiwibm9uRG1QYXJ0cyIsImluZGV4T2YiLCJkb21haW4iLCJnZXRDdXJyZW50RG9tYWluIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsImVtYWlsIiwicGFyc2VRdWVyeVN0cmluZyIsInF1ZXJ5TGlzdCIsInN1YnN0ciIsImFkZFF1ZXJ5UGFyYW0iLCJwYXJhbSIsInBhcnRzIiwiZGVjb2RlIiwiYmFzZVVybCIsImRheXMiLCJleHBpcmVzIiwiZGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidG9HTVRTdHJpbmciLCJjb29raWVEb21haW4iLCJnZXRDb29raWVEb21haW4iLCJjb29raWUiLCJwb3AiLCJzaGlmdCIsImRvbWFpblNldCIsImRvbWFpbnMiLCJmb3JFYWNoIiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiYnVmIiwiVWludDMyQXJyYXkiLCJpZHgiLCJjIiwiciIsInYiLCJNYXRoIiwicmFuZG9tIiwidG9JU09TdHJpbmciLCJzbGljZSIsImNhbGNJc29TdHJpbmciLCJwYWQiLCJudW1iZXIiLCJTdHJpbmciLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsImdldFVUQ0hvdXJzIiwiZ2V0VVRDTWludXRlcyIsImdldFVUQ1NlY29uZHMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbW9kdWxlcy90cmFja2luZy9saWIvY29tbW9uL3RyYWNrZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMubmV3VHJhY2tlciA9IGZ1bmN0aW9uIChjb29raWVEb21haW5zKSB7XHJcbiAgICB2YXIgcmVjb3JkSWROYW1lID0gJ3JlY29yZElEJyxcclxuICAgICAgICBzZXNzaW9uSWROYW1lID0gJ2RtU2Vzc2lvbklEJyxcclxuICAgICAgICBkbUNvb2tpZU5hbWUgPSAnZG1faScsXHJcbiAgICAgICAgc2Vzc2lvbkNvb2tpZXMgPSBbJ3V0bV9tZWRpdW0nLCAndXRtX3NvdXJjZScsICd1dG1fY2FtcGFpZ24nXSxcclxuICAgICAgICBxdWVyaWVzID0gW10sXHJcbiAgICAgICAgdHJhY2tpbmdRdWVyaWVzID0ge30sXHJcbiAgICAgICAgcmVjb3JkSWRFeHBpcnlEYXlzID0gMzY1LFxyXG4gICAgICAgIHNlc3Npb25FeHBpcnlEYXlzID0gMC4wMTM4OSxcclxuICAgICAgICBkbUV4cGlyeURheXMgPSAwLjA0MTY3LFxyXG4gICAgICAgIHByb2ZpbGVDb29raWVEb21haW5zID0gY29va2llRG9tYWlucztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFkZFBhZ2VWYXJzOiBhZGRQYWdlVmFycyxcclxuICAgICAgICBhZGRUcmFja2luZ1ZhcnM6IGFkZFRyYWNraW5nVmFycyxcclxuICAgICAgICBhZGRSZWNvcmRJZDogYWRkUmVjb3JkSWQsXHJcbiAgICAgICAgYWRkU2Vzc2lvbklkOiBhZGRTZXNzaW9uSWQsXHJcbiAgICAgICAgYWRkQ3VzdG9tVmFyczogYWRkQ3VzdG9tVmFycyxcclxuICAgICAgICBhZGRDdXJyZW50RG9tYWluOiBhZGRDdXJyZW50RG9tYWluLFxyXG4gICAgICAgIGFkZEVtYWlsOiBhZGRFbWFpbCxcclxuICAgICAgICBzZXRRdWVyeVZhbHVlczogc2V0UXVlcnlWYWx1ZXMsXHJcbiAgICAgICAgYnVpbGRVcmw6IGJ1aWxkVXJsXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFBhZ2VWYXJzKCkge1xyXG4gICAgICAgIHRyYWNraW5nUXVlcmllcy5wYWdlX3VybCA9IGVuY29kZShnZXRDdXJyZW50VXJsKCkpO1xyXG4gICAgICAgIHRyYWNraW5nUXVlcmllcy5wYWdlX3RpdGxlID0gZW5jb2RlKGRvY3VtZW50LnRpdGxlKTtcclxuICAgICAgICB0cmFja2luZ1F1ZXJpZXMucGFnZV90aW1lID0gZ2V0SXNvRGF0ZShuZXcgRGF0ZSgpKTtcclxuICAgICAgICB0cmFja2luZ1F1ZXJpZXMudXNlcl9hZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkVHJhY2tpbmdWYXJzKCkge1xyXG4gICAgICAgIGlmIChxdWVyaWVzW2RtQ29va2llTmFtZV0pIHtcclxuICAgICAgICAgICAgc2V0Q29va2llKGRtQ29va2llTmFtZSwgcXVlcmllc1tkbUNvb2tpZU5hbWVdLCBkbUV4cGlyeURheXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJhY2tpbmdRdWVyaWVzW2RtQ29va2llTmFtZV0gPSBlbmNvZGUoZ2V0Q29va2llKGRtQ29va2llTmFtZSkpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2Vzc2lvbkNvb2tpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYWRkU2Vzc2lvbkNvb2tpZShzZXNzaW9uQ29va2llc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJlY29yZElkKCkge1xyXG4gICAgICAgIHZhciByZWNvcmRJZCA9IGdldENvb2tpZShyZWNvcmRJZE5hbWUpO1xyXG4gICAgICAgIGlmICghcmVjb3JkSWQpIHJlY29yZElkID0gZ2VuZXJhdGVVVUlEKCk7XHJcbiAgICAgICAgc2V0Q29va2llKHJlY29yZElkTmFtZSwgcmVjb3JkSWQsIHJlY29yZElkRXhwaXJ5RGF5cyk7XHJcbiAgICAgICAgdHJhY2tpbmdRdWVyaWVzLnJlY29yZElEID0gZW5jb2RlKHJlY29yZElkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRTZXNzaW9uSWQoKSB7XHJcbiAgICAgICAgdmFyIHNlc3Npb25JZCA9IGdldENvb2tpZShzZXNzaW9uSWROYW1lKTtcclxuICAgICAgICBpZiAoIXNlc3Npb25JZCkgc2Vzc2lvbklkID0gZ2VuZXJhdGVVVUlEKCk7XHJcbiAgICAgICAgc2V0Q29va2llKHNlc3Npb25JZE5hbWUsIHNlc3Npb25JZCwgc2Vzc2lvbkV4cGlyeURheXMpO1xyXG4gICAgICAgIHRyYWNraW5nUXVlcmllcy5zZXNzaW9uSUQgPSBlbmNvZGUoc2Vzc2lvbklkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDdXN0b21WYXJzKHZhcnMpIHtcclxuICAgICAgICB2YXIgcGFyYW1zID0gW107XHJcbiAgICAgICAgaWYgKHZhcnMgJiYgdHlwZW9mIHZhcnMgPT09ICdvYmplY3QnKSBmb3IgKHZhciBrZXkgaW4gdmFycykge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAodmFyc1trZXldLnRvU3RyaW5nKCkgfHwgJycpLnJlcGxhY2UoLyYvZywgJyAnKTtcclxuICAgICAgICAgICAgcGFyYW1zLnB1c2goa2V5LnJlcGxhY2UoLyYvZywgJyAnKSArICc9JyArIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyYW1zLmxlbmd0aCAmJiAodHJhY2tpbmdRdWVyaWVzLmN1c3RvbV9wYWdlX3ZhbHVlcyA9IGVuY29kZShwYXJhbXMuam9pbignJicpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkU2Vzc2lvbkNvb2tpZShuYW1lKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gcXVlcmllc1tuYW1lXTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgc2V0Q29va2llKG5hbWUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gZ2V0Q29va2llKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmFja2luZ1F1ZXJpZXNbbmFtZV0gPSBlbmNvZGUodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRVcmwoKSB7XHJcbiAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgaWYgKHF1ZXJpZXNbZG1Db29raWVOYW1lXSkge1xyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgdmFyIHVybFBhcnRzID0gcXVlcnlTdHJpbmcuc3BsaXQoXCImXCIpO1xyXG4gICAgICAgICAgICB2YXIgbm9uRG1QYXJ0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVybFBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXJsUGFydHNbaV0uaW5kZXhPZihkbUNvb2tpZU5hbWUgKyAnPScpID09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIG5vbkRtUGFydHMucHVzaCh1cmxQYXJ0c1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXJsID0gKG5vbkRtUGFydHMubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgICAgICA/IHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoXCI/XCIpKVxyXG4gICAgICAgICAgICAgICAgOiB1cmwuc3Vic3RyaW5nKDAsIHVybC5pbmRleE9mKFwiP1wiKSArIDEpICsgbm9uRG1QYXJ0cy5qb2luKFwiJlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDdXJyZW50RG9tYWluKCkge1xyXG4gICAgICAgIHRyYWNraW5nUXVlcmllcy5kb21haW4gPSBlbmNvZGUoZ2V0Q3VycmVudERvbWFpbigpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50RG9tYWluKCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBkb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRFbWFpbChlbWFpbCkge1xyXG4gICAgICAgIHRyYWNraW5nUXVlcmllcy5lbWFpbCA9IGVuY29kZShlbWFpbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0UXVlcnlWYWx1ZXMoKSB7XHJcbiAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgICAgICBpZiAocXVlcnlTdHJpbmcpIHBhcnNlUXVlcnlTdHJpbmcocXVlcnlTdHJpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcocXVlcnlTdHJpbmcpIHtcclxuICAgICAgICB2YXIgcXVlcnlMaXN0ID0gcXVlcnlTdHJpbmcuc3Vic3RyKDEpLnNwbGl0KC8mL2cpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVlcnlMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGFkZFF1ZXJ5UGFyYW0ocXVlcnlMaXN0W2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUXVlcnlQYXJhbShwYXJhbSkge1xyXG4gICAgICAgIHZhciBwYXJ0cyA9IHBhcmFtLnNwbGl0KC89Lyk7XHJcbiAgICAgICAgcXVlcmllc1twYXJ0c1swXV0gPSBwYXJ0cy5sZW5ndGggPT09IDIgPyBkZWNvZGUocGFydHNbMV0pIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBidWlsZFVybChiYXNlVXJsKSB7XHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0cmFja2luZ1F1ZXJpZXMpIHtcclxuICAgICAgICAgICAgcGFyYW1zLnB1c2goa2V5ICsgJz0nICsgdHJhY2tpbmdRdWVyaWVzW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZVVybCArIChiYXNlVXJsLmluZGV4T2YoJz8nKSAhPT0gLTEgP1xyXG4gICAgICAgICAgICAnJicgOiAnPycpICsgcGFyYW1zLmpvaW4oJyYnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRDb29raWUobmFtZSwgdmFsdWUsIGRheXMpIHtcclxuICAgICAgICB2YXIgZXhwaXJlcyA9IFwiXCI7XHJcbiAgICAgICAgaWYgKGRheXMpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICAgICAgZXhwaXJlcyA9IFwiOyBleHBpcmVzPVwiICsgZGF0ZS50b0dNVFN0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29va2llRG9tYWluID0gZ2V0Q29va2llRG9tYWluKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgZW5jb2RlKHZhbHVlKSArIGV4cGlyZXMgKyBcIjsgcGF0aD0vXCIgKyBjb29raWVEb21haW47XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBcIjsgXCIgKyBkb2N1bWVudC5jb29raWU7XHJcbiAgICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoXCI7IFwiICsgbmFtZSArIFwiPVwiKTtcclxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDIpIHJldHVybiBkZWNvZGUocGFydHMucG9wKCkuc3BsaXQoXCI7XCIpLnNoaWZ0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENvb2tpZURvbWFpbigpIHtcclxuICAgICAgICB2YXIgZG9tYWluU2V0ID0gXCJcIjtcclxuICAgICAgICBpZiAocHJvZmlsZUNvb2tpZURvbWFpbnMpIHtcclxuICAgICAgICAgICAgdmFyIGRvbWFpbnMgPSBwcm9maWxlQ29va2llRG9tYWlucy5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgIGRvbWFpbnMuZm9yRWFjaChmdW5jdGlvbiAoZG9tYWluKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2YoZG9tYWluKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb21haW5TZXQgPSBcIjtkb21haW49XCIgKyBkb21haW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZG9tYWluU2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpIHtcclxuICAgICAgICBpZiAodHlwZW9mICh3aW5kb3cuY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgKHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSAhPSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB2YXIgYnVmID0gbmV3IFVpbnQzMkFycmF5KDQpO1xyXG4gICAgICAgICAgICB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhidWYpO1xyXG4gICAgICAgICAgICB2YXIgaWR4ID0gLTE7XHJcbiAgICAgICAgICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgICAgIHZhciByID0gKGJ1ZltpZHggPj4gM10gPj4gKChpZHggJSA4KSAqIDQpKSAmIDE1O1xyXG4gICAgICAgICAgICAgICAgdmFyIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLCB2ID0gYyA9PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SXNvRGF0ZShkYXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcgPyBkYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTkpIDogY2FsY0lzb1N0cmluZyhkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjSXNvU3RyaW5nKGRhdGUpIHtcclxuICAgICAgICBmdW5jdGlvbiBwYWQobnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAobnVtYmVyIDwgMTAgPyAnMCcgOiAnJykgKyBTdHJpbmcobnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0VVRDRnVsbFllYXIoKVxyXG4gICAgICAgICAgICArICctJyArIHBhZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxKVxyXG4gICAgICAgICAgICArICctJyArIHBhZChkYXRlLmdldFVUQ0RhdGUoKSlcclxuICAgICAgICAgICAgKyAnVCcgKyBwYWQoZGF0ZS5nZXRVVENIb3VycygpKVxyXG4gICAgICAgICAgICArICc6JyArIHBhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSlcclxuICAgICAgICAgICAgKyAnOicgKyBwYWQoZGF0ZS5nZXRVVENTZWNvbmRzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlY29kZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGVuY29kZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xyXG4gICAgfVxyXG59OyJdLCJtYXBwaW5ncyI6Ijs7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDQyxVQUFVLEdB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